---
import BaseHead from '../components/BaseHead.astro';
---

<BaseHead title="页面未找到 (404)" description="抱歉，您访问的页面不存在或已被移除。返回首页或查看其他文档以继续浏览。" />

<main class="notfound-container">
  <!-- full-screen animated background of many '404' rows -->
  <div class="bg-error-wrap" aria-hidden="true">
    <!-- 21 rows, each with a track duplicated for seamless looping -->
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
    <div class="bg-row"><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div><div class="track">404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;404&nbsp;</div></div>
  </div>

  <!-- illustration removed as requested -->
  <div class="card">
    <h1>404</h1>
    <h2>页面未找到</h2>
    <p>您访问的页面不存在、已被移除或链接已更改，请检查您访问的链接是否正确</p>
    <nav class="actions">
      <a class="btn" href="/">返回首页</a>
      <a class="btn ghost" href="/docs/">查看其他文档</a>
    </nav>
  </div>
</main>

<style>
  :root{--bg:#0f1724;--card:#0b1220;--accent:#ff6b6b;--muted:#9aa4b2}
  html,body{height:100%;}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;background:var(--bg);color:#fff}
  .notfound-container{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}
  /* Card styles + entrance animation */
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    padding:2.25rem;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.6);text-align:center;max-width:720px;width:100%;
    transform-origin:center bottom;
    animation: card-enter 560ms cubic-bezier(.2,.9,.2,1) both;
  }

  /* H1 渐变光带 + 弹跳，H2 轻微发光并淡入 */
  h1{
    font-size:4rem;margin:0 0 .25rem;font-weight:800;animation: h1-pop 700ms cubic-bezier(.2,.9,.2,1) both;
    /* 渐变文本 */
    background: linear-gradient(90deg, var(--accent) 0%, #ffd6d6 40%, #ff9a9a 70%);
    background-size: 200% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation-name: h1-pop, h1-gradient;
    animation-duration: 700ms, 4s;
    animation-timing-function: cubic-bezier(.2,.9,.2,1), linear;
    animation-fill-mode: both;
    animation-iteration-count: 1, infinite;
  }

  h2{margin:0 0 .75rem;font-weight:700;color:#ffd6d6;text-shadow:0 1px 0 rgba(0,0,0,0.18);animation: h2-fade 700ms ease both;animation-delay:120ms}
  p{color:var(--muted);margin:0 0 1.5rem}
  .actions{display:flex;gap:0.75rem;justify-content:center}
  .btn{display:inline-block;padding:.6rem 1rem;border-radius:8px;background:var(--accent);color:#fff;text-decoration:none;font-weight:600}
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff}
  .btn{transition:transform .18s ease, box-shadow .18s ease}
  .btn:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 20px rgba(0,0,0,0.15)}

  @media (max-width:640px){
    .card{padding:1.25rem}
    h1{font-size:3rem}
  }

  /* Keyframes for entrance animations */
  @keyframes card-enter{
    from{opacity:0;transform:translateY(18px) scale(.995)}
    to{opacity:1;transform:translateY(0) scale(1)}
  }

  @keyframes h1-pop{
    0%{opacity:0;transform:scale(.92) translateY(6px)}
    60%{transform:scale(1.06) translateY(-2px);opacity:1}
    100%{transform:scale(1) translateY(0)}
  }

  @keyframes h2-fade{
    from{opacity:0;transform:translateY(8px)}
    to{opacity:1;transform:translateY(0)}
  }

  /* 渐变移动效果，用于 H1 */
  @keyframes h1-gradient{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }


  /* H2 轻微发光循环 */
  @keyframes h2-glow{
    0%{text-shadow:0 1px 0 rgba(0,0,0,0.18)}
    50%{text-shadow:0 6px 18px rgba(255,107,107,0.18)}
    100%{text-shadow:0 1px 0 rgba(0,0,0,0.18)}
  }

  .card.dark-bg h2{ animation-name: h2-fade, h2-glow; animation-duration: 700ms, 3.6s; animation-iteration-count: 1, infinite; animation-delay: 120ms, 600ms }

  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce){
    .card, h1, h2, .btn{animation:none;transition:none}
  }
</style>

<script>
  // @ts-nocheck
  // 根据卡片背景色计算亮度并添加对应类：light-bg 或 dark-bg
  (function(){
    try{
      const card = document.querySelector('.card');
      if(!card) return;
      const style = window.getComputedStyle(card);
      /** @type {string|null} */
      let bg = style.backgroundColor || window.getComputedStyle(document.body).backgroundColor || null;

      /**
       * Parse an rgb/rgba or hex color string into an [r,g,b] array
       * @param {string|null} color
       * @returns {number[]|null}
       */
      function parseRGB(color){
        if(!color) return null;
        const m = color.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/i);
        if(m) return [parseInt(m[1],10), parseInt(m[2],10), parseInt(m[3],10)];
        const mh = color.match(/^#([0-9a-f]{6})$/i);
        if(mh){
          const int = parseInt(mh[1],16);
          return [(int>>16)&255, (int>>8)&255, int&255];
        }
        return null;
      }

      /**
       * @param {number[]|null} rgb
       * @returns {number|null}
       */
      function luminanceFromRgb(rgb){
        if(!rgb) return null;
        const srgb = rgb.map(
          /** @param {number} v */ v => v/255
        ).map(
          /** @param {number} c */ c => c <= 0.03928 ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4)
        );
        return 0.2126*srgb[0] + 0.7152*srgb[1] + 0.0722*srgb[2];
      }

      /** @type {number[]|null} */
      let rgb = parseRGB(bg);
      if(!rgb){
        rgb = parseRGB(window.getComputedStyle(document.body).backgroundColor || null);
      }
      const lum = luminanceFromRgb(rgb) ?? 0;
      // 阈值 0.5 为明暗分界，>0.5 认为是浅色背景
      if(lum > 0.5){
        card.classList.add('light-bg');
      } else {
        card.classList.add('dark-bg');
      }
    }catch(e){
      // ignore
    }
  })();
</script>

<style>
  /* 自适应亮暗背景的文本样式 */
  .card.dark-bg{ color: #fff }
  .card.dark-bg p{ color: var(--muted) }
  .card.dark-bg .btn.ghost{ color: #fff; border-color: rgba(255,255,255,0.06) }

  .card.dark-bg h2{ color: #ffd6d6 }

  .card.light-bg{ color: #0b1220 }
  .card.light-bg p{ color: rgba(11,18,32,0.72) }
  .card.light-bg .btn.ghost{ color: #0b1220; border-color: rgba(11,18,32,0.08) }

  .card.light-bg h2{ color: #0b1220 }

  /* background animation: rows of 404 sliding left/right */
  .bg-error-wrap{position:fixed;inset:0;z-index:0;overflow:hidden;pointer-events:none}
  .bg-row{width:200%;display:flex;white-space:nowrap;opacity:0.06;line-height:1;}
  .bg-row .track{display:flex;gap:2rem;align-items:center;animation: slide-left 22s linear infinite}
  .bg-row .track span, .bg-row .track{font-weight:700;font-family:monospace;color:#ff6b6b;font-size:clamp(18px,4vw,48px);letter-spacing:0.06em}
  /* default animation is slide-left; even rows flip direction */
  .bg-row:nth-child(even) .track{animation-name: slide-right}
  .bg-row:nth-child(1) .track{animation-duration:20s}
  .bg-row:nth-child(2) .track{animation-duration:22s}
  .bg-row:nth-child(3) .track{animation-duration:18s}
  .bg-row:nth-child(4) .track{animation-duration:24s}
  .bg-row:nth-child(5) .track{animation-duration:20s}
  .bg-row:nth-child(6) .track{animation-duration:26s}
  .bg-row:nth-child(7) .track{animation-duration:19s}
  .bg-row:nth-child(8) .track{animation-duration:23s}
  .bg-row:nth-child(9) .track{animation-duration:21s}
  .bg-row:nth-child(10) .track{animation-duration:25s}
  .bg-row:nth-child(11) .track{animation-duration:17s}
  .bg-row:nth-child(12) .track{animation-duration:28s}
  @keyframes slide-left{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
  @keyframes slide-right{0%{transform:translateX(0)}100%{transform:translateX(50%)}}
  /* lower opacity and softer color on very large screens */
  @media (min-width:1600px){.bg-row{opacity:0.04}}

  /* ensure card sits above background */
  .card{position:relative;z-index:3}

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce){
    .bg-row .track{animation:none}
    .bg-row{opacity:0.04}
  }
</style>
